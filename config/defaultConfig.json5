{
  devices: [
    {
      id: 'gpioWatchdog1',
      kind: 'gpioWatchdogLoopback',
      domain: 'main',
      modes: ['rpi4'],
      state: 'active',
      publishAs: 'gpioWatchdog1',

      protocol: {
        type: 'gpio',
        chip: 'gpiochip0',
        outLine: 17,
        inLine: 27,
        consumerTag: 'charlie',
        reclaimOnBusy: true
      },

      params: {
        toggleMs: 1000,
        bias: 'pull-down'
      }
    },

    {
      id: 'buttonVirt1',
      publishAs: 'button1',

      domain: 'button',
      role: 'button',

      kind: 'buttonEdge',
      protocol: { type: 'virt', initial: false },

      modes: ['win11'],
      state: 'active',
      params: { cooldownMs: 250 }
    },

    {
      id: 'buttonGpio1',
      publishAs: 'button1',

      domain: 'button',
      role: 'button',

      kind: 'buttonEdge',
      protocol: { type: 'gpio', chip: 'gpiochip0', line: 21, activeHigh: false },

      modes: ['win11', 'rpi4'],
      state: 'active',
      params: { cooldownMs: 250 }
    }
  ],
  /*
      {
        id: 'presenceFront1',
        type: 'ld2410',
        role: 'presence',
        zone: 'front',
        enabled: true,
        params: { debounceOnMs: 150, debounceOffMs: 400 },
        hw: { chip: 'gpiochip0', line: 5, activeHigh: true }
      },
      {
        id: 'presenceBack1',
        type: 'ld2410',
        role: 'presence',
        zone: 'back',
        enabled: true,
        params: { debounceOnMs: 150, debounceOffMs: 400 },
        hw: { chip: 'gpiochip0', line: 6, activeHigh: true }
      },

      {
        id: 'vibLight1',
        type: 'sw420',
        role: 'vibration',
        enabled: true,
        level: 'light',
        params: { cooldownMs: 600 },
        hw: { chip: 'gpiochip0', line: 22, activeHigh: true }
      },
      {
        id: 'vibHeavy1',
        type: 'sw420',
        role: 'vibration',
        enabled: true,
        level: 'heavy',
        params: { cooldownMs: 600 },
        hw: { chip: 'gpiochip0', line: 23, activeHigh: true }
      },

      {
        id: 'button1',
        type: 'gpioButton',
        role: 'button',
        enabled: true,
        params: { cooldownMs: 250 },
        hw: { chip: 'gpiochip0', line: 24, activeHigh: true }
      }
  */
  core: {
    armingDelayMs: 1200,
    cooldownMs: 60000,
    injectDefaults: {
      presenceFront: 'presence.front',
      presenceBack: 'presence.back',
      vibrationLow: 'vibration.light',
      vibrationHigh: 'vibration.heavy',
      buttonShort: 'button1',
      buttonLong: 'button1'
    },
  },

  rules: [
    {
      id: 'front_anytime',
      priority: 10,
      conditions: {
        zone: 'front',
        weekday: [1, 2, 3, 4, 5, 6, 7],
        timeRanges: [{ start: '00:00', end: '24:00' }],
      },
      actions: {
        modePromptId: 'mode.front.any',
        openerPromptId: 'opener.front.any',
      },
    },
  ],

  tasker: {
    baseUrl: "http://127.0.0.1:8787/tasker", // simulator in virt/dev
    timeoutMs: 2500,
    retries: 1,
    retryDelayMs: 300,
    token: { header: "X-Tasker-Token", value: "..." }
  },

  promptText: {
    base: 'You are Charlie.',
    modes: {
      'mode.front.any': 'Mode: invite passersby.',
    },
    openers: {
      'opener.front.any': 'Generate one short friendly Romanian opener (max 12 words).',
    },
  },
}
