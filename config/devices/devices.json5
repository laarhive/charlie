// config/devices/devices.json5
[
  {
    id: 'gpioWatchdog1',
    kind: 'gpioWatchdogLoopback',
    domain: 'main',
    modes: ['rpi4'],
    state: 'active',
    publishAs: 'gpioWatchdog1',

    protocol: {
      type: 'gpio',
      chip: 'gpiochip0',
      outLine: 17,
      inLine: 27,
      consumerTag: 'charlie',
      reclaimOnBusy: true
    },

    params: {
      toggleMs: 1000,
      bias: 'pull-down'
    }
  },

  {
    id: 'buttonVirt1',
    publishAs: 'button1',

    domain: 'button',
    role: 'button',

    kind: 'buttonEdge',
    protocol: { type: 'virt', initial: false },

    modes: ['win11'],
    state: 'active',
    params: { cooldownMs: 250 }
  },

  {
    id: 'buttonLine26',
    publishAs: 'buttonGpioLine26',

    domain: 'button',
    role: 'button',

    kind: 'buttonEdge',
    protocol: { type: 'gpio', chip: 'gpiochip0', line: 26, activeHigh: false },

    modes: ['rpi4'],
    state: 'active',
    params: { cooldownMs: 250 }
  },

  {
    id: 'LD2450A',
    publishAs: 'LD2450A',
    domain: 'presence',
    kind: 'ld2460Radar',
    protocol: {
      type: 'serial',
      // 4th hub port from top
      usbId: { vid: '1a86', pid: '7523', hubPosition: '2' },
      baudRate: 115200,
      dataBits: 8,
      stopBits: 1,
      parity: 'none',
    },
    modes: ['rpi4', 'win11'],
    state: 'active'
  },
  {
    id: 'LD2450B',
    publishAs: 'LD2450B',
    domain: 'presence',
    kind: 'ld2460Radar',
    protocol: {
      type: 'serial',
      // 3rd hub port from top
      usbId: { vid: '1a86', pid: '7523', hubPosition: '3' },
      baudRate: 115200,
      dataBits: 8,
      stopBits: 1,
      parity: 'none',
    },
    modes: ['rpi4', 'win11'],
    state: 'active'
  },
  {
    id: 'LD2450C',
    publishAs: 'LD2450C',
    domain: 'presence',
    kind: 'ld2460Radar',
    protocol: {
      type: 'serial',
      // 2nd hub port from top
      usbId: { vid: '1a86', pid: '7523', hubPosition: '4' },
      baudRate: 115200,
      dataBits: 8,
      stopBits: 1,
      parity: 'none',
    },
    modes: ['rpi4', 'win11'],
    state: 'active'
  },
  {
    id: 'statusLed1',
    publishAs: 'statusLed',
    domain: 'led',
    kind: 'ws2812Led',
    protocol: {
      type: 'serial',
      usbId: { vid: '2e8a', pid: '101f', serial: '6&68C07EB&0&0002' },
      baudRate: 115200,
      dataBits: 8,
      stopBits: 1,
      parity: 'none',
    },
    modes: ['rpi4', 'win11'],
    state: 'active'
  }
]
