<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Charlie World Layout (cm)</title>
    <style>
        body {
            margin: 0;
            background: #0b1220;
            color: white;
            font-family: Arial, sans-serif;
        }

        svg {
            width: 100vw;
            height: 100vh;
            display: block;
        }

        .label {
            font-size: 14px;
            fill: rgba(255,255,255,0.9);
            font-weight: 500;
        }

        .axis {
            stroke: rgba(255,255,255,0.28);
            stroke-width: 2;
        }

        .grid {
            stroke: rgba(255,255,255,0.05);
            stroke-width: 1;
        }

        .hedge { fill: url(#patHedge); opacity: 0.75; }
        .roses { fill: url(#patRoses); opacity: 0.75; }
        .sidewalk { fill: url(#patSidewalk); opacity: 0.65; }
        .road { fill: url(#patRoad); opacity: 0.60; }
        .terrace { fill: url(#patDeck); opacity: 0.75; }
        .walkway { fill: url(#patDeckLight); opacity: 0.70; }
        .restaurant { fill: url(#patRestaurant); opacity: 0.70; }
        .door { fill: url(#patDoor); opacity: 0.85; }

        .charlieBody {
            fill: rgba(0,220,255,0.55);
            stroke: rgba(255,255,255,0.85);
            stroke-width: 2;
        }

        .charlieFacing {
            stroke: rgba(0,212,255,0.65);
            stroke-width: 2;
            stroke-dasharray: 6 6;
        }
    </style>
</head>
<body>

<svg id="svg" viewBox="-650 -700 1200 1500"></svg>

<script>
  const svg = document.getElementById("svg")
  const ns = "http://www.w3.org/2000/svg"
  const el = (t) => document.createElementNS(ns, t)

  // Flip Y so +Y is up
  const worldToSvgY = (y) => -y

  const addDefs = () => {
    const defs = el("defs")

    const pattern = (id, w, h) => {
      const p = el("pattern")
      p.setAttribute("id", id)
      p.setAttribute("width", w)
      p.setAttribute("height", h)
      p.setAttribute("patternUnits", "userSpaceOnUse")
      defs.appendChild(p)
      return p
    }

    const rectNode = (x, y, w, h, fill) => {
      const r = el("rect")
      r.setAttribute("x", x)
      r.setAttribute("y", y)
      r.setAttribute("width", w)
      r.setAttribute("height", h)
      r.setAttribute("fill", fill)
      return r
    }

    const circleNode = (cx, cy, r, fill) => {
      const c = el("circle")
      c.setAttribute("cx", cx)
      c.setAttribute("cy", cy)
      c.setAttribute("r", r)
      c.setAttribute("fill", fill)
      return c
    }

    const lineNode = (x1, y1, x2, y2, stroke, sw = 1) => {
      const l = el("line")
      l.setAttribute("x1", x1)
      l.setAttribute("y1", y1)
      l.setAttribute("x2", x2)
      l.setAttribute("y2", y2)
      l.setAttribute("stroke", stroke)
      l.setAttribute("stroke-width", sw)
      return l
    }

    // ðŸŒ¿ Hedge (fresh green)
    const pH = pattern("patHedge", 16, 16)
    pH.appendChild(rectNode(0, 0, 16, 16, "#3fbf6f"))
    pH.appendChild(circleNode(4, 5, 2, "#2e9f57"))
    pH.appendChild(circleNode(12, 6, 2, "#2e9f57"))
    pH.appendChild(circleNode(8, 12, 2, "#2e9f57"))

    // ðŸŒ¹ Roses (brighter red)
    const pR = pattern("patRoses", 18, 18)
    pR.appendChild(rectNode(0, 0, 18, 18, "#ff7aa8"))
    pR.appendChild(circleNode(6, 6, 2.2, "#ff2e63"))
    pR.appendChild(circleNode(12, 10, 2.0, "#ff2e63"))
    pR.appendChild(circleNode(9, 14, 1.8, "#ff99bb"))

    // ðŸš¶ Sidewalk (light stone)
    const pS = pattern("patSidewalk", 30, 30)
    pS.appendChild(rectNode(0, 0, 30, 30, "#d9d9d9"))
    pS.appendChild(lineNode(0, 0, 30, 0, "#bfbfbf"))
    pS.appendChild(lineNode(0, 15, 30, 15, "#cfcfcf"))
    pS.appendChild(lineNode(0, 0, 0, 30, "#bfbfbf"))
    pS.appendChild(lineNode(15, 0, 15, 30, "#cfcfcf"))

    // ðŸ›£ Road (slightly darker stone)
    const pRd = pattern("patRoad", 40, 40)
    pRd.appendChild(rectNode(0, 0, 40, 40, "#b5b5b5"))
    pRd.appendChild(lineNode(0, 20, 40, 20, "#9f9f9f"))
    pRd.appendChild(lineNode(20, 0, 20, 40, "#9f9f9f"))

    // ðŸªµ Terrace (warm wood)
    const pD = pattern("patDeck", 24, 24)
    pD.appendChild(rectNode(0, 0, 24, 24, "#c78b45"))
    pD.appendChild(lineNode(0, 0, 0, 24, "#a86f33", 2))
    pD.appendChild(lineNode(12, 0, 12, 24, "#a86f33", 1))

    // Walkway (lighter wood)
    const pDL = pattern("patDeckLight", 24, 24)
    pDL.appendChild(rectNode(0, 0, 24, 24, "#e3a866"))
    pDL.appendChild(lineNode(0, 0, 0, 24, "#c88945", 2))
    pDL.appendChild(lineNode(12, 0, 12, 24, "#c88945", 1))

    // ðŸ§± Restaurant wall (clean brick)
    const pB = pattern("patRestaurant", 36, 24)
    pB.appendChild(rectNode(0, 0, 36, 24, "#a77c7c"))
    pB.appendChild(lineNode(0, 12, 36, 12, "#8f6666"))
    pB.appendChild(lineNode(18, 0, 18, 12, "#8f6666"))

    // ðŸšª Door (golden wood)
    const pDoor = pattern("patDoor", 18, 18)
    pDoor.appendChild(rectNode(0, 0, 18, 18, "#ffcc66"))
    pDoor.appendChild(lineNode(6, 0, 6, 18, "#d9a441"))
    pDoor.appendChild(lineNode(12, 0, 12, 18, "#d9a441"))

    svg.appendChild(defs)
  }

  function rect(x1, y1, x2, y2, cls, labelText) {
    const r = el("rect")
    r.setAttribute("x", x1)
    r.setAttribute("y", worldToSvgY(y2))
    r.setAttribute("width", x2 - x1)
    r.setAttribute("height", y2 - y1)
    r.setAttribute("class", cls)
    svg.appendChild(r)

    if (labelText) {
      const t = el("text")
      t.setAttribute("x", (x1 + x2) / 2)
      t.setAttribute("y", worldToSvgY((y1 + y2) / 2))
      t.setAttribute("text-anchor", "middle")
      t.setAttribute("dominant-baseline", "middle")
      t.setAttribute("class", "label")
      t.textContent = labelText
      svg.appendChild(t)
    }
  }

  function line(x1, y1, x2, y2, cls) {
    const l = el("line")
    l.setAttribute("x1", x1)
    l.setAttribute("y1", worldToSvgY(y1))
    l.setAttribute("x2", x2)
    l.setAttribute("y2", worldToSvgY(y2))
    l.setAttribute("class", cls)
    svg.appendChild(l)
  }

  function charlieHalfCircleFacing45() {
    // Charlie centered at (0,0), radius 30cm
    // Facing direction: 45Â° NE (world). We'll draw the "front half" as a 180Â° wedge centered on 45Â°.
    const r = 30
    const centerX = 0
    const centerY = 0

    const facingDeg = 45
    const startDeg = facingDeg - 90
    const endDeg = facingDeg + 90

    const p1 = { x: centerX + r * Math.cos(startDeg * Math.PI / 180), y: centerY + r * Math.sin(startDeg * Math.PI / 180) }
    const p2 = { x: centerX + r * Math.cos(endDeg * Math.PI / 180), y: centerY + r * Math.sin(endDeg * Math.PI / 180) }

    const path = el("path")
    // note: y is flipped for SVG
    const d = `M ${centerX} ${worldToSvgY(centerY)}
L ${p1.x} ${worldToSvgY(p1.y)}
A ${r} ${r} 0 0 0 ${p2.x} ${worldToSvgY(p2.y)}
Z`

    path.setAttribute("d", d)
    path.setAttribute("class", "charlieBody")
    svg.appendChild(path)

    // Facing line (center -> edge at 45Â°)
    const fx = centerX + r * Math.cos(facingDeg * Math.PI / 180)
    const fy = centerY + r * Math.sin(facingDeg * Math.PI / 180)
    const face = el("line")
    face.setAttribute("x1", centerX)
    face.setAttribute("y1", worldToSvgY(centerY))
    face.setAttribute("x2", fx)
    face.setAttribute("y2", worldToSvgY(fy))
    face.setAttribute("class", "charlieFacing")
    svg.appendChild(face)

    const t = el("text")
    t.setAttribute("x", centerX)
    t.setAttribute("y", worldToSvgY(centerY))
    t.setAttribute("text-anchor", "middle")
    t.setAttribute("dominant-baseline", "middle")
    t.setAttribute("class", "label")
    t.textContent = "Charlie"
    svg.appendChild(t)
  }

  addDefs()

  // ---- GRID ----
  for (let x = -600; x <= 600; x += 50) {
    line(x, -700, x, 800, "grid")
  }
  for (let y = -700; y <= 800; y += 50) {
    line(-650, y, 600, y, "grid")
  }

  // ---- AXES ----
  line(-650, 0, 600, 0, "axis")
  line(0, -700, 0, 800, "axis")

  // ---- CHARLIE (half-circle facing NE 45Â°) ----
  charlieHalfCircleFacing45()

  // ---- HEDGE ----
  rect(-30, -610, 30, -30, "hedge", "Hedge")
  rect(-30, 210, 30, 600, "hedge")

  // ---- ROSES ----
  rect(30, -610, 60, -30, "roses", "Roses")
  rect(30, 210, 60, 600, "roses")

  // ---- SIDEWALK ----
  rect(50, -700, 270, 800, "sidewalk", "Sidewalk")

  // ---- ROAD ----
  rect(270, -700, 600, 800, "road", "Pedestrian Road")

  // ---- TERRACE ----
  rect(-530, -610, -30, -30, "terrace", "Terrace")
  rect(-530, 210, -30, 600, "terrace")

  // ---- WALKWAY ----
  rect(-530, -30, 60, 210, "walkway", "Walkway")

  // ---- RESTAURANT WALL ----
  rect(-580, -610, -530, 600, "restaurant", "Restaurant")

  // ---- DOOR ----
  rect(-550, -30, -530, 110, "door", "Door")
</script>
</body>
</html>
